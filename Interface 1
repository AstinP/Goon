import easygui
import sqlite3

# Create or connect to SQLite database using your table structure
def setup_database():
    conn = sqlite3.connect('Movies.db')
    cursor = conn.cursor()
    
    # Create movies table matching your design
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS movies (
            ID INTEGER PRIMARY KEY AUTOINCREMENT,
            Movie_Name TEXT NOT NULL,
            Release_Date INTEGER,
            Age_Rating TEXT,
            Duration INTEGER,
            Genre TEXT
        )
    ''')
    
    conn.commit()
    conn.close()

# Add New Movie to database using your table structure
def add_new_movie():
    movie_name = easygui.enterbox("Enter movie title:", "âœ¨ Add New Movie")
    if movie_name:
        release_date = easygui.integerbox("Enter release year:", "âœ¨ Add New Movie", lowerbound=1900, upperbound=2030)
        if release_date:
            age_rating = easygui.choicebox("Select age rating:", "âœ¨ Add New Movie", 
                                         choices=["G", "PG", "PG-13", "R", "NC-17", "18+"])
            if age_rating:
                duration = easygui.integerbox("Enter duration (minutes):", "âœ¨ Add New Movie", lowerbound=1, upperbound=300)
                if duration:
                    genre = easygui.choicebox("Select genre:", "âœ¨ Add New Movie",
                                            choices=["Action", "Comedy", "Drama", "Crime", "Sci-Fi", "Horror", "Romance", "Adventure"])
                    if genre:
                        conn = sqlite3.connect('movies.db')
                        cursor = conn.cursor()
                        cursor.execute('INSERT INTO movies (Movie_Name, Release_Date, Age_Rating, Duration, Genre) VALUES (?, ?, ?, ?, ?)',
                                     (movie_name, release_date, age_rating, duration, genre))
                        conn.commit()
                        conn.close()
                        easygui.msgbox(f"âœ… Movie '{movie_name}' added successfully!", "âœ¨ Add New Movie")

# Main program
setup_database()

title = "ğŸ¬ Movie Database Pro"
msg = """â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    MOVIE DATABASE MANAGER
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Please select an option:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"""

choices = ["ğŸ“¥ Add New Movie", "ğŸ“‹ View All Movies", 
           "ğŸ” Search Movies", "ğŸšª Exit"]

image = "Logo.png"

while True:
    choice = easygui.buttonbox(msg, title, image=image, choices=choices)

    if choice == "ğŸ“¥ Add New Movie":
        add_new_movie()
        
    elif choice == "ğŸ“‹ View All Movies":
        easygui.msgbox("Displaying all movies...", "View Movies")
        
    elif choice == "ğŸ” Search Movies":
        easygui.msgbox("Search function coming soon...", "Search Movies")
        
    elif choice == "ğŸšª Exit":
        easygui.msgbox("""â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸŒŸ Thank You! ğŸŒŸ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Thank you for using Movie Database Pro!
Goodbye! ğŸ‘‹""", "Exit Program")
        break